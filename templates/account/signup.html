{% load i18n %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analiqo | Sign Up</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        /* Custom styles inherited from the landing page */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #05071E; /* Dark blue background */
            color: #E0E0E0; /* Light grey text */
        }

        .gradient-bg {
            background: linear-gradient(135deg, #1E293B 0%, #0F172A 50%, #020617 100%);
        }

        .hero-gradient-text {
            background: linear-gradient(90deg, #38BDF8, #A78BFA, #F472B6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-fill-color: transparent;
        }
        
        .animated-gradient-bg {
            background: linear-gradient(-45deg, #3b82f6, #8b5cf6, #ec4899, #14b8a6);
            background-size: 400% 400%;
            animation: gradient-animation 15s ease infinite;
        }

        @keyframes gradient-animation {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .btn-primary-glow {
            background: #6D28D9; /* Violet */
            transition: all 0.3s ease;
            box-shadow: 0 0 0 0 rgba(167, 139, 250, 0.7);
        }

        .btn-primary-glow:hover {
            transform: translateY(-2px);
            box-shadow: 0 0 20px 5px rgba(167, 139, 250, 0.3);
        }

        .form-card {
            background: #0F172A; /* Dark blue background for the form container */
            border: 1px solid #334155; /* Subtle border */
        }

        .input-field {
            background: #1E293B; /* Slightly lighter dark blue for input fields */
            color: #E0E0E0;
            border: 1px solid #334155;
            transition: all 0.2s ease;
        }
        
        .input-field:focus {
            outline: none;
            border-color: #A78BFA;
            box-shadow: 0 0 0 2px rgba(167, 139, 250, 0.2);
        }
    </style>
</head>
<body class="antialiased flex items-center justify-center min-h-screen p-4">

    <!-- Signup Form Container -->
    <div class="relative w-full max-w-md form-card rounded-2xl p-8 md:p-10 shadow-lg">
        <!-- Background gradient overlay for visual flair -->
        <div class="absolute inset-0 rounded-2xl animated-gradient-bg opacity-10"></div>
        <div class="relative z-10 text-center">
            <h1 class="text-3xl md:text-4xl font-extrabold tracking-tight mb-2 hero-gradient-text">
                Create Your Account
            </h1>
            <p class="text-slate-400 mb-8">Start your 14-day free trial. No credit card required.</p>
            
            <!-- Social Login Buttons -->
            <div class="space-y-4 mb-6">
                <button class="w-full bg-slate-800 border border-slate-700 text-white font-semibold rounded-lg px-6 py-3 flex items-center justify-center hover:bg-slate-700 transition-colors">
                    <svg class="w-5 h-5 mr-3" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12.0001 4.75003C14.7351 4.75003 16.9997 6.89006 17.0782 9.49987H15.0213C14.9459 7.95408 13.6703 6.75003 12.0001 6.75003C9.57212 6.75003 7.55938 8.84074 7.55938 12.0001C7.55938 15.1594 9.57212 17.2501 12.0001 17.2501C13.6844 17.2501 14.9482 16.0357 15.0458 14.5878H12.0001V12.4265H19.4674C19.5393 12.8791 19.5824 13.4339 19.5824 14.0001C19.5824 18.0673 16.736 21.25 12.0001 21.25C6.46772 21.25 2.75 16.726 2.75 12.0001C2.75 7.27415 6.46772 2.75 12.0001 2.75C14.1203 2.75 15.8928 3.53587 17.2156 4.67385L15.6865 6.16017C14.6191 5.24479 13.4077 4.75003 12.0001 4.75003Z" fill="white"></path></svg>
                    Sign up with Google
                </button>
            </div>
            
            <div class="relative flex items-center justify-center mb-6">
                <div class="absolute inset-x-0 h-px bg-slate-700"></div>
                <span class="relative z-10 bg-slate-900 text-slate-500 px-3">or</span>
            </div>

            <!-- Signup Form -->
            <form id="signup-form" action="{% url 'account_signup' %}" method="POST" class="space-y-4">
                {% csrf_token %}
                
                {% if form.non_field_errors %}
                    <div class="bg-red-500/10 border border-red-500/50 rounded-lg p-3 mb-4">
                        {% for error in form.non_field_errors %}
                            <p class="text-red-400 text-sm">{{ error }}</p>
                        {% endfor %}
                    </div>
                {% endif %}
                
                <div class="flex gap-4">
                    <div class="w-1/2">
                        <label for="first_name" class="block text-left text-sm font-medium text-slate-400 mb-2">First Name</label>
                        <input type="text" id="first_name" name="first_name" class="w-full input-field rounded-lg px-4 py-3" placeholder="John" required>
                    </div>
                    <div class="w-1/2">
                        <label for="last_name" class="block text-left text-sm font-medium text-slate-400 mb-2">Last Name</label>
                        <input type="text" id="last_name" name="last_name" class="w-full input-field rounded-lg px-4 py-3" placeholder="Doe" required>
                    </div>
                </div>
                <div>
                    <label for="email" class="block text-left text-sm font-medium text-slate-400 mb-2">Email Address</label>
                    <input type="email" id="email" name="email" class="w-full input-field rounded-lg px-4 py-3" placeholder="you@example.com" required>
                </div>
                <div>
                    <label for="password1" class="block text-left text-sm font-medium text-slate-400 mb-2">Password</label>
                    <input type="password" id="password1" name="password1" class="w-full input-field rounded-lg px-4 py-3" placeholder="••••••••" required>
                </div>
                <div>
                    <label for="password2" class="block text-left text-sm font-medium text-slate-400 mb-2">Confirm Password</label>
                    <input type="password" id="password2" name="password2" class="w-full input-field rounded-lg px-4 py-3" placeholder="••••••••" required>
                </div>
                
                <div class="flex items-start space-x-3 pt-2">
                    <input type="checkbox" id="terms_accepted" name="terms_accepted" class="mt-1 h-4 w-4 text-purple-600 bg-slate-700 border-slate-600 rounded focus:ring-purple-500 focus:ring-2" required>
                    <label for="terms_accepted" class="text-sm text-slate-400">
                        I accept the <a href="#" class="text-purple-400 hover:underline">Terms of Service</a> and <a href="#" class="text-purple-400 hover:underline">Privacy Policy</a>
                    </label>
                </div>
                
                {% if form.password1.errors %}
                    {% for error in form.password1.errors %}
                        <div class="text-sm text-red-400 text-left">{{ error }}</div>
                    {% endfor %}
                {% endif %}
                {% if form.password2.errors %}
                    {% for error in form.password2.errors %}
                        <div class="text-sm text-red-400 text-left">{{ error }}</div>
                    {% endfor %}
                {% endif %}
                {% if form.terms_accepted.errors %}
                    {% for error in form.terms_accepted.errors %}
                        <div class="text-sm text-red-400 text-left">{{ error }}</div>
                    {% endfor %}
                {% endif %}

                <div class="pt-2">
                    <button type="submit" class="w-full btn-primary-glow text-white font-bold rounded-lg px-6 py-4 text-center">
                        Create Account
                    </button>
                </div>
            </form>



            <p class="text-sm text-slate-400 mt-4">
                Already have an account? <a href="/accounts/login/" class="text-white hover:underline font-semibold">Sign in</a>.
            </p>
        </div>
    </div>
    
    <!-- Initialize Lucide Icons & Add Form Validation -->
    <script>
        // Initialize Lucide Icons
        lucide.createIcons();

        // Simple client-side password validation
        const form = document.getElementById('signup-form');
        const password = document.getElementById('password');
        const confirmPassword = document.getElementById('confirm-password');
        const errorMessage = document.getElementById('password-error-message');

        form.addEventListener('submit', function(event) {
            if (password.value !== confirmPassword.value) {
                event.preventDefault();
                errorMessage.classList.remove('hidden');
                confirmPassword.focus();
            } else {
                errorMessage.classList.add('hidden');
            }
        });
    </script>
</body>
</html>
