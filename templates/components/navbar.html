{% load static %}
{% with items=navbar_menu %}
<header class="sticky top-0 left-0 right-0 z-20 py-4 bg-slate-900/50 backdrop-blur-lg border-b border-slate-800">
  <div class="container mx-auto px-6 flex justify-between items-center">
    <a href="/" class="text-2xl font-bold text-white">analiqo</a>
    <nav class="hidden md:flex items-center gap-2">
      {% for item in items %}
        {% if item.submenu %}
        <div class="relative">
          <input type="checkbox" id="dropdown-toggle-{{ forloop.counter }}" class="peer hidden" />
          <label
            for="dropdown-toggle-{{ forloop.counter }}"
            class="text-gray-300 hover:text-white px-3 py-2 flex items-center cursor-pointer"
          >
            {{ item.name }}
            <svg
              class="w-4 h-4 ml-1"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <polyline points="6 9 12 15 18 9"></polyline>
            </svg>
          </label>
          <div
            class="absolute hidden bg-slate-800 rounded-lg shadow-lg mt-2 py-2 min-w-[10rem] peer-checked:block"
          >
            {% for child in item.submenu %}
              <a href="{{ child.url }}" class="block px-4 py-2 text-sm text-gray-300 hover:bg-slate-700">{{ child.name }}</a>
            {% endfor %}
          </div>
        </div>
        {% else %}
          <a href="{{ item.url }}" class="text-gray-300 hover:text-white px-3 py-2">{{ item.name }}</a>
        {% endif %}
      {% endfor %}
    </nav>
    <button class="md:hidden text-gray-300 hover:text-white" id="mobile-menu-button">
      <svg class="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
    </button>
  </div>
  <div class="hidden md:hidden bg-slate-900 border-b border-slate-800" id="mobile-menu">
    <div class="container mx-auto px-6 py-4 space-y-2">
      {% for item in items %}
        {% if item.submenu %}
          <div>
            <div class="text-gray-300 px-3 py-2">{{ item.name }}</div>
            {% for child in item.submenu %}
              <a href="{{ child.url }}" class="block text-gray-300 hover:text-white py-2 pl-6">{{ child.name }}</a>
            {% endfor %}
          </div>
        {% else %}
          <a href="{{ item.url }}" class="block text-gray-300 hover:text-white py-2">{{ item.name }}</a>
        {% endif %}
      {% endfor %}
    </div>
  </div>
</header>
{% endwith %}